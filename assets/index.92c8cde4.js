(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerpolicy&&(i.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?i.credentials="include":r.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function T(){}function he(e,t){for(const n in t)e[n]=t[n];return e}function oe(e){return e()}function Y(){return Object.create(null)}function M(e){e.forEach(oe)}function re(e){return typeof e=="function"}function U(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let q;function ye(e,t){return q||(q=document.createElement("a")),q.href=t,e===q.href}function be(e){return Object.keys(e).length===0}function _e(e,t,n,o){if(e){const r=ie(e,t,n,o);return e[0](r)}}function ie(e,t,n,o){return e[1]&&o?he(n.ctx.slice(),e[1](o(t))):n.ctx}function ve(e,t,n,o){if(e[2]&&o){const r=e[2](o(n));if(t.dirty===void 0)return r;if(typeof r=="object"){const i=[],l=Math.max(t.dirty.length,r.length);for(let s=0;s<l;s+=1)i[s]=t.dirty[s]|r[s];return i}return t.dirty|r}return t.dirty}function xe(e,t,n,o,r,i){if(r){const l=ie(t,n,o,i);e.p(l,r)}}function Be(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let o=0;o<n;o++)t[o]=-1;return t}return-1}function _(e,t){e.appendChild(t)}function C(e,t,n){e.insertBefore(t,n||null)}function w(e){e.parentNode&&e.parentNode.removeChild(e)}function we(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function h(e){return document.createElement(e)}function le(e){return document.createTextNode(e)}function L(){return le(" ")}function Se(){return le("")}function b(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function ke(e){return Array.from(e.childNodes)}function A(e,t,n,o){n==null?e.style.removeProperty(t):e.style.setProperty(t,n,o?"important":"")}function Z(e,t,n){e.classList[n?"add":"remove"](t)}let F;function D(e){F=e}function Ce(){if(!F)throw new Error("Function called outside component initialization");return F}function Ee(e){Ce().$$.on_mount.push(e)}const k=[],I=[];let E=[];const P=[],ze=Promise.resolve();let j=!1;function Ae(){j||(j=!0,ze.then(ae))}function H(e){E.push(e)}function se(e){P.push(e)}const R=new Set;let S=0;function ae(){if(S!==0)return;const e=F;do{try{for(;S<k.length;){const t=k[S];S++,D(t),De(t.$$)}}catch(t){throw k.length=0,S=0,t}for(D(null),k.length=0,S=0;I.length;)I.pop()();for(let t=0;t<E.length;t+=1){const n=E[t];R.has(n)||(R.add(n),n())}E.length=0}while(k.length);for(;P.length;)P.pop()();j=!1,R.clear(),D(e)}function De(e){if(e.fragment!==null){e.update(),M(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(H)}}function Fe(e){const t=[],n=[];E.forEach(o=>e.indexOf(o)===-1?t.push(o):n.push(o)),n.forEach(o=>o()),E=t}const O=new Set;let Ie;function N(e,t){e&&e.i&&(O.delete(e),e.i(t))}function V(e,t,n,o){if(e&&e.o){if(O.has(e))return;O.add(e),Ie.c.push(()=>{O.delete(e),o&&(n&&e.d(1),o())}),e.o(t)}else o&&o()}function ce(e,t,n){const o=e.$$.props[t];o!==void 0&&(e.$$.bound[o]=n,n(e.$$.ctx[o]))}function ue(e){e&&e.c()}function K(e,t,n,o){const{fragment:r,after_update:i}=e.$$;r&&r.m(t,n),o||H(()=>{const l=e.$$.on_mount.map(oe).filter(re);e.$$.on_destroy?e.$$.on_destroy.push(...l):M(l),e.$$.on_mount=[]}),i.forEach(H)}function W(e,t){const n=e.$$;n.fragment!==null&&(Fe(n.after_update),M(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function $e(e,t){e.$$.dirty[0]===-1&&(k.push(e),Ae(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function G(e,t,n,o,r,i,l,s=[-1]){const u=F;D(e);const a=e.$$={fragment:null,ctx:[],props:i,update:T,not_equal:r,bound:Y(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(u?u.$$.context:[])),callbacks:Y(),dirty:s,skip_bound:!1,root:t.target||u.$$.root};l&&l(a.root);let p=!1;if(a.ctx=n?n(e,t.props||{},(f,g,...m)=>{const y=m.length?m[0]:g;return a.ctx&&r(a.ctx[f],a.ctx[f]=y)&&(!a.skip_bound&&a.bound[f]&&a.bound[f](y),p&&$e(e,f)),g}):[],a.update(),p=!0,M(a.before_update),a.fragment=o?o(a.ctx):!1,t.target){if(t.hydrate){const f=ke(t.target);a.fragment&&a.fragment.l(f),f.forEach(w)}else a.fragment&&a.fragment.c();t.intro&&N(e.$$.fragment),K(e,t.target,t.anchor,t.customElement),ae()}D(u)}class J{$destroy(){W(this,1),this.$destroy=T}$on(t,n){if(!re(n))return T;const o=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return o.push(n),()=>{const r=o.indexOf(n);r!==-1&&o.splice(r,1)}}$set(t){this.$$set&&!be(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const ee=['#1: Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. <span class="scroll-more">Scroll for more...</span>','#2: Support for the <span style="color:#ff6633;font-family:BentonSansCond-Bold;">B.C. NDP</span> solidified in Vancouver, Burnaby, New Westminster and the Tri-cities.','#3: But <span style="color:#133968;font-family:BentonSansCond-Bold;">Conservative Party</span> support coalesced in Richmond...',"#4: ...parts of Surrey...","#5: ...and nearly everything east of Langley."];function qe(e){let t,n;const o=e[7].default,r=_e(o,e,e[6],null);return{c(){t=h("div"),r&&r.c()},m(i,l){C(i,t,l),r&&r.m(t,null),e[8](t),n=!0},p(i,[l]){r&&r.p&&(!n||l&64)&&xe(r,o,i,i[6],n?ve(o,i[6],l,null):Be(i[6]),null)},i(i){n||(N(r,i),n=!0)},o(i){V(r,i),n=!1},d(i){i&&w(t),r&&r.d(i),e[8](null)}}}function Le(e,t,n){let{$$slots:o={},$$scope:r}=t,{root:i=null}=t,{top:l=0}=t,{bottom:s=0}=t,{increments:u=100}=t,{value:a=void 0}=t;const p=[],f=[];let g=[],m=[],y;const z=()=>{!g.length||g.forEach(v)},d=()=>{let c=0,x=0;for(let B=0;B<p.length;B++)p[B]>c&&(c=p[B],x=B);c>0?n(1,a=x):n(1,a=void 0)},v=(c,x)=>{const B=X=>{X[0].isIntersecting;const ge=X[0].intersectionRatio;p[x]=ge,d()},fe=l?l*-1:0,de=s?s*-1:0,pe=`${fe}px 0px ${de}px 0px`,me={root:i,rootMargin:pe,threshold:f};m[x]&&m[x].disconnect();const Q=new IntersectionObserver(B,me);Q.observe(c),m[x]=Q};Ee(()=>{for(let c=0;c<u+1;c++)f.push(c/u);g=y.querySelectorAll(":scope > *"),z()});function $(c){I[c?"unshift":"push"](()=>{y=c,n(0,y)})}return e.$$set=c=>{"root"in c&&n(2,i=c.root),"top"in c&&n(3,l=c.top),"bottom"in c&&n(4,s=c.bottom),"increments"in c&&n(5,u=c.increments),"value"in c&&n(1,a=c.value),"$$scope"in c&&n(6,r=c.$$scope)},e.$$.update=()=>{e.$$.dirty&24&&z()},[y,a,i,l,s,u,r,o,$]}class Oe extends J{constructor(t){super(),G(this,t,Le,qe,U,{root:2,top:3,bottom:4,increments:5,value:1})}}function te(e,t,n){const o=e.slice();return o[2]=t[n],o[4]=n,o}function ne(e){let t,n,o,r=e[2]+"",i;return{c(){t=h("li"),n=h("div"),o=h("p"),i=L(),b(n,"class","step-content svelte-1cz9r95"),b(t,"class","step svelte-1cz9r95"),Z(t,"active",e[0]===e[4])},m(l,s){C(l,t,s),_(t,n),_(n,o),o.innerHTML=r,_(t,i)},p(l,s){s&1&&Z(t,"active",l[0]===l[4])},d(l){l&&w(t)}}}function Me(e){let t,n=ee,o=[];for(let r=0;r<n.length;r+=1)o[r]=ne(te(e,n,r));return{c(){for(let r=0;r<o.length;r+=1)o[r].c();t=Se()},m(r,i){for(let l=0;l<o.length;l+=1)o[l]&&o[l].m(r,i);C(r,t,i)},p(r,i){if(i&1){n=ee;let l;for(l=0;l<n.length;l+=1){const s=te(r,n,l);o[l]?o[l].p(s,i):(o[l]=ne(s),o[l].c(),o[l].m(t.parentNode,t))}for(;l<o.length;l+=1)o[l].d(1);o.length=n.length}},d(r){we(o,r),r&&w(t)}}}function Ne(e){let t,n,o;function r(l){e[1](l)}let i={$$slots:{default:[Me]},$$scope:{ctx:e}};return e[0]!==void 0&&(i.value=e[0]),t=new Oe({props:i}),I.push(()=>ce(t,"value",r)),{c(){ue(t.$$.fragment)},m(l,s){K(t,l,s),o=!0},p(l,[s]){const u={};s&33&&(u.$$scope={dirty:s,ctx:l}),!n&&s&1&&(n=!0,u.value=l[0],se(()=>n=!1)),t.$set(u)},i(l){o||(N(t.$$.fragment,l),o=!0)},o(l){V(t.$$.fragment,l),o=!1},d(l){W(t,l)}}}function Re(e,t,n){let{currentStep:o}=t;function r(i){o=i,n(0,o)}return e.$$set=i=>{"currentStep"in i&&n(0,o=i.currentStep)},[o,r]}class Te extends J{constructor(t){super(),G(this,t,Re,Ne,U,{currentStep:0})}}function Pe(e){let t,n,o,r,i,l,s,u,a,p,f,g,m;function y(d){e[1](d)}let z={};return e[0]!==void 0&&(z.currentStep=e[0]),f=new Te({props:z}),I.push(()=>ce(f,"currentStep",y)),{c(){t=h("section"),n=h("header"),n.innerHTML="<h1>B.C.\u2019s 2024 election results suggests more polarized voters</h1>",o=L(),r=h("div"),i=h("iframe"),s=L(),u=h("div"),u.innerHTML='<a class="flourish-credit" href="https://public.flourish.studio/visualisation/3706064/?utm_source=embed&amp;utm_campaign=visualisation/3706064" target="_top" style="text-decoration:none!important"><img alt="Made with Flourish" src="https://public.flourish.studio/resources/made_with_flourish.svg" style="width:105px!important;height:16px!important;border:none!important;margin:0!important;"/></a>',a=L(),p=h("ul"),ue(f.$$.fragment),ye(i.src,l=He)||b(i,"src",l),b(i,"frameborder","0"),b(i,"scrolling","no"),A(i,"width","100%"),A(i,"height",je),b(i,"title","flourish-embed"),b(r,"class","chart sticky svelte-1cq5eoo"),A(u,"width","100%!"),A(u,"margin-top","4px",1),A(u,"text-align","right",1),b(t,"class","scrollyteller sticky svelte-1cq5eoo"),b(p,"class","steps svelte-1cq5eoo")},m(d,v){C(d,t,v),_(t,n),_(t,o),_(t,r),_(r,i),_(t,s),_(t,u),C(d,a,v),C(d,p,v),K(f,p,null),m=!0},p(d,[v]){const $={};!g&&v&1&&(g=!0,$.currentStep=d[0],se(()=>g=!1)),f.$set($)},i(d){m||(N(f.$$.fragment,d),m=!0)},o(d){V(f.$$.fragment,d),m=!1},d(d){d&&w(t),d&&w(a),d&&w(p),W(f)}}}const je="575px",He="https://flo.uri.sh/story/3097454/embed";function Ue(e,t,n){let o,r;const i=function(s){r=document.querySelector("#app .chart > iframe"),r.src=r.src.replace(/#slide-.*/,"")+"#slide-"+s};function l(s){o=s,n(0,o)}return e.$$.update=()=>{e.$$.dirty&1&&(o===0||o===1||o===2||o===3||o===4)&&i(o)},[o,l]}class Ve extends J{constructor(t){super(),G(this,t,Ue,Pe,U,{})}}new Ve({target:document.getElementById("app")});
